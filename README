В Go, горутины - это легкие потоки выполнения, позволяющие запускать функции одновременно, не блокируя основной поток выполнения.

package main

import (
	"fmt"
)

func main() {
	fmt.Println("start") // Вывод "start"

	go process(0) // Запускаем функцию process(0) в горутине

	go func() { // Запускаем анонимную функцию в горутине
		fmt.Println("its me") // Вывод "its me"
	}()

	for i := 0; i < 1000; i++ {
		go process(i) // Запускаем функцию process(i) в горутине для i от 0 до 999
	}
}

func process(i int) {
	fmt.Println("settings: ", i) // Вывод "settings: i"
}
Объяснение кода:

main() функция:

fmt.Println("start"): Выводит текст “start” в консоль.
go process(0): Запускает функцию process с аргументом 0 в отдельной горутине.
go func() { ... }(): Создает анонимную функцию и запускает ее в горутине. Эта функция выводит “its me” в консоль.
for i := 0; i < 1000; i++ { go process(i) }: Запускает 1000 горутин, каждая из которых вызывает функцию process с аргументом i от 0 до 999.
process(i) функция:

fmt.Println("settings: ", i): Выводит текст “settings: i”, где i - переданный аргумент.
Как это работает:

go ключевое слово: Запускает функцию в новой горутине.
main() функция: Она является главной функцией программы, которая выполняется первой.
Горутины: Они выполняются одновременно, не блокируя друг друга. Порядок вывода строк может быть непредсказуемым.
Пример вывода:

start
settings:  0
its me
settings:  1
settings:  2
settings:  3
...
settings:  999
Основные преимущества горутин:

Легковесность: горутины занимают меньше ресурсов, чем обычные потоки, что делает их более эффективными.
Одновременность: позволяют запускать несколько задач одновременно.
Простая работа: их легко создавать и использовать в Go.

Важные моменты:

Непредсказуемый порядок вывода: Так как горутины выполняются одновременно, порядок вывода строк в консоли может быть различным при каждом запуске.
Конкурентность: При работе с горутинами важно учитывать конкурентность и использовать механизмы синхронизации, чтобы избежать проблем.
Дополнительные материалы:

Документация Go: https://go.dev/
Уроки по горутинам: https://www.golang-book.com/books/intro/8


Горутины - это мощный инструмент, который позволяет создавать высокопроизводительные и параллельные приложения на Go. Используйте их, чтобы оптимизировать ваш код и сделать его более эффективным!